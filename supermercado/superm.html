<!DOCTYPE html>
<html lang="pt -Br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Supermercado</title>
    <!--Tela maior-->
    <link rel="stylesheet" href="../css/cad-vendedor/desktop.css">
    <!--Tela menor-->
    <link rel="stylesheet" href="../css/cad-vendedor/mobile.css" media="screen and (orientation:portrait)">

  </head>
  <body>
    <!--Criar a tela de cadastro do vendedor para Mobile First e depois para desktop-->

    <form method="post" action="../php/superm.php" enctype="multipart/form-data" onsubmit="return Register()">

    <ul>

      <li>
      <label for="cliente" id="empresa">Empresa:</label>
      <input type="text" name="empresa" id="cliente" placeholder="Empresa" required /></li>

      <li>
      <label for="responsavel" id="funcionario">Nome do responsável:</label>
      <li><input type="text" name="nome" id="responsavel" placeholder="Nome do responsável" required /></li>

      <li>
      <label for="unico" id="registro">CNPJ:</label>
      <input type="text" name="cnpj" id="unico" placeholder="CNPJ" required /></li>

        <li>
          <label for="local" id="localizacao">Localização:</label>
          <input type="text" name="endereco" id="local" placeholder="Localização" required />
        </li> 

        <li>
        <label for="fixo" id="tel-fixo">Telefone - Fixo</label>
        <input type="tel" name="contato-fixo" id="fixo" placeholder="Tel - Fixo" required />
      </li>

      <li>
        <label for="pessoal" id="tel-cel">Celular:</label>
        <input type="tel" name="contato-cel" id="movel" placeholder="Celular" required />
      </li>

      <li>
        <label for="endereco" id="g-mail">G-mail:</label>
        <input type="email" name="gmail" id="end" placeholder="Email" required />
      </li>

      <li>
        <label for="valido" id="senha">Senha:</label>
        <input type="password" name="senha" id="valido" placeholder="Senha" required />
      </li>

      <li>
        <label for="foto" id="descricao" onclick="Generator()"></label>
        <input type="file" id="foto" name="img" accept="image/*" required>
      </li>

    </ul>
  
      <button type="submit" onclick="Register()">Cadastrar</button>

    </form>

    <script>
    //Configurar a foto do input file depois da imagem ter sido escolhida

    function Generator(){

    //Input invísivel
    let input = document.getElementById("foto")

    input.addEventListener("change", function(){

    //Label
    let label = document.getElementById("descricao")
    //Aqui o código vai ler o arquivo
    let eyes = new FileReader()
    //Evento onload serve para a imagem carregada
    eyes.onload = function read(){
    //Nesse trecho está a definição da imagem que vai ocupar o fundo da label. Eu vi essa dica em um comentário     pela Internet
    label.style.backgroundImage = `url('${eyes.result}')`
    label.style.filter = `blur(0px)`
    label.style.opacity = '100%'

    }
    //Isso serve para pegar a url da imagem
    eyes.readAsDataURL(input.files[0])
  })
}

function Register(){
  //Bota para ser redirecionado
}
    </script>

  </body>
</html>